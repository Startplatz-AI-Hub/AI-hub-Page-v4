<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="STARTPLATZ AI Hub - Dein Weg in die KI-Zukunft. Gef√∂rderte Weiterbildungen, praxisnahe Bootcamps und Zertifizierungen in K√∂ln & D√ºsseldorf.">
  <meta name="theme-color" content="#6366F1">
  <title>STARTPLATZ AI Hub | KI-Weiterbildung & Bootcamps</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet">
  <script src="https://unpkg.com/@phosphor-icons/web@2.0.3"></script>

  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%236366F1' width='100' height='100' rx='16'/%3E%3Ctext x='50' y='68' font-size='50' text-anchor='middle' fill='white' font-family='system-ui' font-weight='bold'%3EAI%3C/text%3E%3C/svg%3E">



  <!-- External Design System -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Page Specific Styles -->
  <link rel="stylesheet" href="css/landing.css">

</head>

<body>
  <!-- 3D Canvas Background - Neural Network -->
  <div id="canvas-container">
    <canvas id="main-canvas"></canvas>
  </div>




  <!-- Scroll Progress -->
  <div class="scroll-progress">
    <div class="scroll-progress-bar" id="scrollProgress"></div>
  </div>

  <!-- Removed distracting global grid overlay -->

  <!-- Header -->
  <header class="header" id="header">
    <div class="header-inner">
      <a href="#"><img src="https://res.cloudinary.com/startplatz/image/upload/v1709845467/ai-hub/AI-Hub-Logo.png"
          alt="STARTPLATZ AI Hub" class="logo"></a>1234567
      <nav class="nav">

        <!-- Mega Menu: Weiterbildungen -->
        <div class="nav-item has-dropdown">
          <a href="#programs" class="nav-link">Weiterbildungen <i class="ph-bold ph-caret-down"></i></a>
          <div class="mega-menu">
            <div class="mega-menu-inner">
              <!-- Feature Card (Left) -->
              <div class="mega-menu-feature">
                <img
                  src="https://res.cloudinary.com/startplatz/image/upload/v1767662279/ai-hub/website/website_stock_images/EVENT-01.png"
                  alt="Feature">
                <div class="mega-menu-feature-content">
                  <h4>Dein Start in KI</h4>
                  <p>Lerne von den Besten und starte deine Karriere.</p>
                  <div class="stars"><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i
                      class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i></div>
                </div>
              </div>
              <!-- Links (Right) -->
              <div class="mega-menu-lists">
                <div class="mega-menu-col">
                  <h5>F√ºr Arbeitssuchende</h5>
                  <ul class="mega-list">
                    <li><a href="#">KI-Manager Vollzeit</a></li>
                    <li><a href="#">KI-Manager Teilzeit</a></li>
                    <li><a href="#">AI-Automation Vollzeit</a></li>
                    <li><a href="#">AI-Automation Teilzeit</a></li>
                    <li><a href="#">KI-Start</a></li>
                  </ul>
                </div>
                <div class="mega-menu-col">
                  <h5>F√ºr Selbstzahler</h5>
                  <ul class="mega-list">
                    <li><a href="#">KI-Manager Vollzeit</a></li>
                    <li><a href="#">KI-Manager Teilzeit</a></li>
                    <li><a href="#">AI-Automation Vollzeit</a></li>
                    <li><a href="#">AI-Automation Teilzeit</a></li>
                    <li><a href="#">KI-Start</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Dropdown: F√ºr Unternehmen -->
        <div class="nav-item has-dropdown">
          <a href="#" class="nav-link">F√ºr Unternehmen <i class="ph-bold ph-caret-down"></i></a>
          <div class="dropdown-menu">
            <ul class="dropdown-list">
              <li><a href="#">QCG-gef√∂rderte Weiterbildungen</a></li>
              <li><a href="#">AI-Automation f√ºr Unternehmen</a></li>
              <li><a href="#">Inhouse-Schulungen & Keynotes</a></li>
              <li><a href="#">Talentpool & Recruiting</a></li>
            </ul>
          </div>
        </div>

        <!-- Dropdown: F√∂rderung -->
        <div class="nav-item has-dropdown">
          <a href="#" class="nav-link">F√∂rderung <i class="ph-bold ph-caret-down"></i></a>
          <div class="dropdown-menu">
            <ul class="dropdown-list">
              <li><a href="#">F√ºr Privatpersonen (Bildungsgutschein)</a></li>
              <li><a href="#">F√ºr Unternehmen (QCG)</a></li>
              <li><a href="#">F√ºr Arbeitsvermittler</a></li>
            </ul>
          </div>
        </div>

        <a href="#events" class="nav-link">Events</a>

        <!-- Dropdown: Wissen -->
        <div class="nav-item has-dropdown">
          <a href="#" class="nav-link">Wissen <i class="ph-bold ph-caret-down"></i></a>
          <div class="dropdown-menu">
            <ul class="dropdown-list">
              <li><a href="#">KI & neue Jobprofile</a></li>
              <li><a href="#">Inhalte KI-Manager</a></li>
              <li><a href="#">Inhalte AI-Automation</a></li>
              <li><a href="#">Blog / Artikel</a></li>
            </ul>
          </div>
        </div>

        <!-- Dropdown: √úber Uns -->
        <div class="nav-item has-dropdown">
          <a href="#" class="nav-link">√úber uns <i class="ph-bold ph-caret-down"></i></a>
          <div class="dropdown-menu">
            <ul class="dropdown-list">
              <li><a href="#">Mission</a></li>
              <li><a href="#">Team</a></li>
              <li><a href="#">Partner & Netzwerke</a></li>
              <li><a href="#">Kontakt</a></li>
            </ul>
          </div>
        </div>

        <nav class="nav">
          <!-- Defined in CSS to hide on mobile -->
          <!-- ... existing nav content ... -->
        </nav>
        <div class="header-cta">
          <a href="#contact" class="btn btn-primary btn-sm">Beratung buchen</a>
          <button class="mobile-menu-toggle" aria-label="Menu">
            <i class="ph-bold ph-list"></i>
          </button>
        </div>
    </div>
  </header>

  <!-- Hero Section - BOLD Left Claim + Right CTA Card + Bottom Partner Marquee -->
  <section class="hero hero-bold" id="hero">
    <div class="hero-bold-container hero-split-layout">
      <!-- Left Side: MASSIVE Claim - Positioned Top Left -->
      <div class="hero-bold-left hero-fly-in-left">
        <div class="hero-badge-wrap">
          <span class="hero-badge">100% GEF√ñRDERT</span>
        </div>
        <h1 class="hero-mega-claim hero-mega-claim-xl">
          <span class="claim-line">STARTE</span>
          <span class="claim-line">DEINE</span>
          <span class="claim-line highlight">KARRIERE</span>
          <span class="claim-line dim">JETZT.</span>
        </h1>
        
        <!-- Mobile-only CTA Section -->
        <div class="hero-mobile-cta">
          <p class="mobile-cta-desc">
            Praxisnahe Bootcamps in K√∂ln & D√ºsseldorf.<br>
            12 Wochen. Zertifiziert. Karriere ready.
          </p>
          <div class="mobile-cta-buttons">
            <a href="#contact" class="btn btn-primary btn-lg">
              Kostenlos beraten lassen
              <i class="ph-bold ph-arrow-right"></i>
            </a>
            <a href="#quiz" class="mobile-secondary-link">
              <i class="ph-fill ph-brain"></i> Wissens-Test machen
            </a>
          </div>
        </div>
      </div>

      <!-- Right Side: CTA Card - Fixed to RIGHT -->
      <div class="hero-bold-right hero-cta-right">
        <div class="hero-cta-card">
          <div class="hero-cta-header">
            <span class="cta-label">Zertifizierungen von</span>
            <div class="hero-cert-badges">
              <span class="cert-badge">Microsoft</span>
              <span class="cert-badge">Google</span>
              <span class="cert-badge">AWS</span>
              <span class="cert-badge featured">Agentur f√ºr Arbeit</span>
              <span class="cert-badge">IHK</span>
            </div>
          </div>

          <p class="hero-cta-desc">
            Praxisnahe Bootcamps in K√∂ln & D√ºsseldorf.<br>
            12 Wochen. Zertifiziert. Karriere ready.
          </p>

          <div class="hero-cta-actions">
            <a href="#contact" class="btn btn-primary btn-lg hero-main-cta">
              Kostenlos beraten lassen
              <i class="ph-bold ph-arrow-right"></i>
            </a>
            <a href="#quiz" class="hero-secondary-link">
              <i class="ph-fill ph-brain"></i> Oder erst Wissens-Test machen
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Partner Marquee Banner - Draggable with Hover Highlight -->
    <div class="hero-partner-marquee hero-partner-marquee-interactive" id="partnerMarquee">
      <div class="marquee-track-draggable" id="marqueeTrack">
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="AWS"></span>
        <span class="marquee-item-interactive"><img src="https://res.cloudinary.com/startplatz/image/upload/v1709845467/ai-hub/AI-Hub-Logo.png" alt="AI Hub"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="AWS"></span>
        <span class="marquee-item-interactive"><img src="https://res.cloudinary.com/startplatz/image/upload/v1709845467/ai-hub/AI-Hub-Logo.png" alt="AI Hub"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google"></span>
        <span class="marquee-item-interactive"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="AWS"></span>
        <span class="marquee-item-interactive"><img src="https://res.cloudinary.com/startplatz/image/upload/v1709845467/ai-hub/AI-Hub-Logo.png" alt="AI Hub"></span>
      </div>
    </div>

    <!-- Scroll indicator -->
    <div class="hero-scroll-hint">
      <span>Scroll</span>
      <i class="ph-bold ph-caret-down"></i>
    </div>
  </section>

  <!-- 3D Scroll Morph Section with Scroll Snap -->
  <section class="morph-scroll-section morph-scroll-snap" id="morph-stage">
    <div class="morph-sticky">
      <div class="morph-content">
        <h2 class="morph-title">F√ºr jeden das <span class="highlight">passende Angebot</span></h2>
        <p class="morph-subtitle">Klicke auf eine Kachel um mehr zu erfahren</p>
      </div>
    </div>
  </section>

  <!-- Morph Target Modal -->
  <div class="morph-modal-overlay" id="morphModalOverlay">
    <div class="morph-modal" id="morphModal" data-color="mint">
      <div class="morph-modal-header">
        <h3><i class="ph-fill ph-user-circle-gear"></i> <span id="morphModalTitle">F√ºr Arbeitssuchende</span></h3>
        <button class="morph-modal-close" id="morphModalClose"><i class="ph-bold ph-x"></i></button>
      </div>
      <div class="morph-modal-body">
        <p id="morphModalDesc">Starte deine Karriere in der KI-Branche mit 100% gef√∂rderten Weiterbildungen durch die
          Agentur f√ºr Arbeit.</p>
        <ul class="morph-modal-features" id="morphModalFeatures">
          <li><i class="ph-fill ph-check-circle"></i> 100% gef√∂rdert durch Bildungsgutschein</li>
          <li><i class="ph-fill ph-check-circle"></i> Praxisnahe Projekte & Zertifikate</li>
          <li><i class="ph-fill ph-check-circle"></i> Karriereberatung inklusive</li>
        </ul>
        <div class="morph-modal-cta">
          <a href="#contact" class="btn btn-primary" id="morphModalCta">F√∂rderung pr√ºfen</a>
          <button class="btn btn-outline morph-modal-close-btn">Schlie√üen</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Target Audience Cards - BOLD with Flowing Stitch -->
  <section class="section section-alt audience-reveal" id="programs">
    <div class="container">
      <div class="audience-grid">

        <!-- ARBEITSSUCHENDE Card - Mint Green -->
        <div class="audience-card mint-accent" id="arbeitssuchend">
          <span class="flow-line flow-top"></span>
          <span class="flow-line flow-right"></span>
          <span class="flow-line flow-bottom"></span>
          <span class="flow-line flow-left"></span>
          <div class="audience-card-inner">
            <div class="audience-card-image">
              <span class="audience-card-badge mint">100% Gef√∂rdert</span>
              <img
                src="https://res.cloudinary.com/startplatz/image/upload/v1767662279/ai-hub/website/website_stock_images/EVENT-01.png"
                alt="Arbeitssuchende">
            </div>
            <div class="audience-card-content">
              <div class="audience-card-header">
                <h3>Arbeitssuchende</h3>
              </div>
              <p class="audience-main">Starte deine Karriere in der KI-Branche mit gef√∂rderten Weiterbildungen.</p>
              <ul class="audience-features">
                <li><i class="ph-fill ph-check"></i> 100% gef√∂rdert durch Arbeitsagentur</li>
                <li><i class="ph-fill ph-check"></i> Praxisnahe Projekte</li>
                <li><i class="ph-fill ph-check"></i> Karriereberatung inklusive</li>
              </ul>
              <a href="#contact" class="audience-cta mint"><i class="ph-fill ph-arrow-right"></i> F√∂rderung pr√ºfen</a>
            </div>
          </div>
        </div>

        <!-- BERUFST√ÑTIGE Card - Navy Blue -->
        <div class="audience-card navy-accent" id="berufstaetig">
          <span class="flow-line flow-top"></span>
          <span class="flow-line flow-right"></span>
          <span class="flow-line flow-bottom"></span>
          <span class="flow-line flow-left"></span>
          <div class="audience-card-inner">
            <div class="audience-card-image">
              <span class="audience-card-badge navy">Berufsbegleitend</span>
              <img
                src="https://res.cloudinary.com/startplatz/image/upload/v1767662288/ai-hub/website/website_stock_images/EVENT-04.png"
                alt="Berufst√§tige">
            </div>
            <div class="audience-card-content">
              <div class="audience-card-header">
                <h3>Berufst√§tige</h3>
              </div>
              <p class="audience-main">Erweitere deine Skills und bleibe relevant in der digitalen Transformation.</p>
              <ul class="audience-features">
                <li><i class="ph-fill ph-check"></i> Flexible Abendkurse</li>
                <li><i class="ph-fill ph-check"></i> Zertifizierte Abschl√ºsse</li>
                <li><i class="ph-fill ph-check"></i> Netzwerk mit Experten</li>
              </ul>
              <a href="#contact" class="audience-cta navy"><i class="ph-fill ph-arrow-right"></i> Kurse entdecken</a>
            </div>
          </div>
        </div>

        <!-- UNTERNEHMEN Card - Orange -->
        <div class="audience-card orange-accent" id="unternehmen">
          <span class="flow-line flow-top"></span>
          <span class="flow-line flow-right"></span>
          <span class="flow-line flow-bottom"></span>
          <span class="flow-line flow-left"></span>
          <div class="audience-card-inner">
            <div class="audience-card-image">
              <span class="audience-card-badge orange">Inhouse</span>
              <img
                src="https://res.cloudinary.com/startplatz/image/upload/v1767662282/ai-hub/website/website_stock_images/EVENT-03.png"
                alt="Unternehmen">
            </div>
            <div class="audience-card-content">
              <div class="audience-card-header">
                <h3>Unternehmen</h3>
              </div>
              <p class="audience-main">Transformiere dein Team mit ma√ügeschneiderten KI-Trainings.</p>
              <ul class="audience-features">
                <li><i class="ph-fill ph-check"></i> Individuelle Curricula</li>
                <li><i class="ph-fill ph-check"></i> Inhouse-Trainings</li>
                <li><i class="ph-fill ph-check"></i> Change Management Support</li>
              </ul>
              <a href="#contact" class="audience-cta orange"><i class="ph-fill ph-arrow-right"></i> Beratung
                anfragen</a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- TEAM SECTION - Full-Width Widescreen Image with Floating Cards -->
  <section class="section team-fullwidth-section" id="team">
    <!-- Header -->
    <div class="team-fullwidth-header">
      <div class="container">
        <span class="section-badge"><i class="ph-fill ph-users-three"></i> Unser Netzwerk</span>
        <h2 class="section-title section-title-xl">Experten, die <span class="highlight">begeistern</span></h2>
        <p class="section-subtitle">√úber 150 Dozenten und Mentoren aus der Praxis. F√ºhrende KI-Experten, Tech-Pioniere und erfahrene Coaches.</p>
      </div>
    </div>

    <!-- FULL-WIDTH Team Photo Container -->
    <div class="team-fullwidth-image-wrapper">
      <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1920&h=700&fit=crop&q=80"
        alt="STARTPLATZ AI Hub Team" class="team-fullwidth-image">
      
      <!-- Floating Location Card - D√ºsseldorf (Bottom Left) -->
      <div class="team-floating-card team-floating-left">
        <img src="https://images.unsplash.com/photo-1577962917302-cd874c4e31d2?w=400&h=240&fit=crop&q=80" alt="D√ºsseldorf Standort">
        <div class="team-floating-label">
          <i class="ph-fill ph-map-pin"></i>
          <span>D√ºsseldorf</span>
        </div>
      </div>

      <!-- Floating Location Card - K√∂ln (Bottom Right) -->
      <div class="team-floating-card team-floating-right">
        <img src="https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=400&h=240&fit=crop&q=80" alt="K√∂ln Standort">
        <div class="team-floating-label">
          <i class="ph-fill ph-map-pin"></i>
          <span>K√∂ln</span>
        </div>
      </div>
    </div>
  </section>

  <!-- KPIs Section -->
  <section class="section section-dark kpi-section">
    <div class="container">
      <div class="kpi-grid">
        <div class="kpi-item">
          <span class="kpi-number" data-target="2000" data-suffix="+">0</span>
          <span class="kpi-label"><i class="ph-fill ph-users"></i> Eventteilnehmer</span>
        </div>
        <div class="kpi-item">
          <span class="kpi-number" data-target="95" data-suffix="%">0</span>
          <span class="kpi-label"><i class="ph-fill ph-smiley"></i> Zufriedenheit</span>
        </div>
        <div class="kpi-item">
          <span class="kpi-number" data-target="150" data-suffix="+">0</span>
          <span class="kpi-label"><i class="ph-fill ph-certificate"></i> Dozenten</span>
        </div>
        <div class="kpi-item">
          <span class="kpi-number" data-target="50" data-suffix="+">0</span>
          <span class="kpi-label"><i class="ph-fill ph-briefcase"></i> Partner-Unternehmen</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Vision & Certificates -->
  <section class="section">
    <div class="container">
      <div class="vision-certs-grid">
        <div class="vision-box frost-edge">
          <span class="section-badge"><i class="ph-fill ph-eye"></i> Unsere Vision</span>
          <h3>KI-Kompetenz f√ºr alle</h3>
          <p>Wir glauben, dass k√ºnstliche Intelligenz keine H√ºrde, sondern eine Chance ist. Unser Ziel: Jeden Menschen
            bef√§higen, KI sinnvoll einzusetzen ‚Äì f√ºr eine bessere Zukunft in der Arbeitswelt.</p>
        </div>
        <div class="certs-box frost-edge">
          <span class="section-badge"><i class="ph-fill ph-medal"></i> Zertifikate</span>
          <h3>Anerkannte Abschl√ºsse</h3>
          <div class="certs-logos">
            <div class="cert-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg"
                alt="Microsoft"><span>Microsoft</span></div>
            <div class="cert-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg"
                alt="Google"><span>Google</span></div>
            <div class="cert-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg"
                alt="AWS"><span>AWS</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- AI Programs & Events - Horizontal Timeline -->
  <section class="section events-timeline-section" id="events">
    <div class="events-header">
      <div class="container">
        <span class="section-badge"><i class="ph-fill ph-calendar-check"></i> 2026 Season</span>
        <h2 class="section-title">Upcoming <span class="highlight">Events</span></h2>
      </div>
    </div>

    <!-- Horizontal Scroll Timeline -->
    <div class="events-timeline-wrapper">
      <div class="events-timeline" id="eventsTimeline">
        <!-- Featured Event - Large -->
        <article class="timeline-event timeline-event-featured" data-parallax="0.3">
          <div class="timeline-event-accent"></div>
          <div class="timeline-event-date">
            <span class="date-month">FEB</span>
            <span class="date-day">03</span>
          </div>
          <div class="timeline-event-content">
            <div class="timeline-event-tags">
              <span class="tag tag-gold">AZAV</span>
              <span class="tag tag-primary">12 Wochen</span>
            </div>
            <h3>KI-Manager Bootcamp</h3>
            <p>Vollzeit-Weiterbildung zum zertifizierten KI-Manager. 100% f√∂rderf√§hig.</p>
            <div class="timeline-event-footer">
              <span class="location"><i class="ph-fill ph-map-pin"></i> K√∂ln + Online</span>
              <a href="#" class="btn-timeline">Bewerben <i class="ph-bold ph-arrow-right"></i></a>
            </div>
          </div>
        </article>

        <!-- Event 2 -->
        <article class="timeline-event" data-parallax="0.5">
          <div class="timeline-event-date">
            <span class="date-month">FEB</span>
            <span class="date-day">15</span>
          </div>
          <div class="timeline-event-content">
            <div class="timeline-event-tags">
              <span class="tag tag-emerald">Workshop</span>
            </div>
            <h3>ChatGPT f√ºr Business</h3>
            <p>Praktische Anwendungen f√ºr Marketing & Sales.</p>
            <div class="timeline-event-footer">
              <span class="location"><i class="ph-fill ph-map-pin"></i> D√ºsseldorf</span>
              <a href="#" class="btn-timeline">Anmelden <i class="ph-bold ph-arrow-right"></i></a>
            </div>
          </div>
        </article>

        <!-- Event 3 -->
        <article class="timeline-event" data-parallax="0.4">
          <div class="timeline-event-date">
            <span class="date-month">FEB</span>
            <span class="date-day">22</span>
          </div>
          <div class="timeline-event-content">
            <div class="timeline-event-tags">
              <span class="tag tag-outline">Kostenlos</span>
            </div>
            <h3>AI Meetup K√∂ln #47</h3>
            <p>Networking und Talks zu aktuellen KI-Trends.</p>
            <div class="timeline-event-footer">
              <span class="location"><i class="ph-fill ph-map-pin"></i> K√∂ln</span>
              <a href="#" class="btn-timeline">Join <i class="ph-bold ph-arrow-right"></i></a>
            </div>
          </div>
        </article>

        <!-- Event 4 -->
        <article class="timeline-event" data-parallax="0.6">
          <div class="timeline-event-date">
            <span class="date-month">M√ÑR</span>
            <span class="date-day">01</span>
          </div>
          <div class="timeline-event-content">
            <div class="timeline-event-tags">
              <span class="tag tag-purple">Deep Dive</span>
              <span class="tag tag-outline">2 Tage</span>
            </div>
            <h3>Machine Learning Basics</h3>
            <p>Von der Theorie zur Praxis ‚Äì trainiere dein erstes ML-Modell.</p>
            <div class="timeline-event-footer">
              <span class="location"><i class="ph-fill ph-map-pin"></i> K√∂ln</span>
              <a href="#" class="btn-timeline">Anmelden <i class="ph-bold ph-arrow-right"></i></a>
            </div>
          </div>
        </article>

        <!-- Event 5 -->
        <article class="timeline-event" data-parallax="0.35">
          <div class="timeline-event-date">
            <span class="date-month">M√ÑR</span>
            <span class="date-day">10</span>
          </div>
          <div class="timeline-event-content">
            <div class="timeline-event-tags">
              <span class="tag tag-primary">Online</span>
            </div>
            <h3>AI Trends 2026</h3>
            <p>Keynote: Die wichtigsten KI-Entwicklungen im neuen Jahr.</p>
            <div class="timeline-event-footer">
              <span class="location"><i class="ph-fill ph-video-camera"></i> Livestream</span>
              <a href="#" class="btn-timeline">Register <i class="ph-bold ph-arrow-right"></i></a>
            </div>
          </div>
        </article>

        <!-- More Events CTA -->
        <article class="timeline-event timeline-event-cta">
          <div class="timeline-cta-content">
            <i class="ph-fill ph-calendar-plus"></i>
            <span>Alle Events</span>
            <i class="ph-bold ph-arrow-right"></i>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Testimonials - Stylish Header on RIGHT side for variety -->
  <section class="section testimonials-section testimonials-stylish" id="reviews">
    <!-- Header aligned RIGHT for variety -->
    <div class="testimonials-hero-header">
      <div class="container testimonials-header-flex">
        <a href="#" class="testimonials-view-all-left">Alle ansehen <i class="ph-bold ph-arrow-right"></i></a>
        <div class="testimonials-header-right">
          <span class="section-badge"><i class="ph-fill ph-chat-circle-text"></i> Was Teilnehmer sagen</span>
          <h2 class="section-title section-title-xl">Echte <span class="highlight">Erfolgsgeschichten</span></h2>
        </div>
      </div>
    </div>
    <div class="container">

      <div class="video-mosaic-grid">
        <!-- Video 1 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400&h=300&fit=crop&q=80" alt="Thomas - Vom Lehrer zum KI-Entwickler">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Thomas</span>
            <span class="video-mosaic-title">Vom Lehrer zum KI-Entwickler</span>
          </div>
        </div>
        <!-- Video 2 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400&h=300&fit=crop&q=80" alt="Sarah - Mein Weg ins Tech-Startup">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Sarah</span>
            <span class="video-mosaic-title">Mein Weg ins Tech-Startup</span>
          </div>
        </div>
        <!-- Video 3 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&h=300&fit=crop&q=80" alt="Michael - Warum sich der Kurs lohnt">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Michael</span>
            <span class="video-mosaic-title">Warum sich der Kurs lohnt</span>
          </div>
        </div>
        <!-- Video 4 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1551836022-d5d88e9218df?w=400&h=300&fit=crop&q=80" alt="Julia - KI im Marketing nutzen">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Julia</span>
            <span class="video-mosaic-title">KI im Marketing nutzen</span>
          </div>
        </div>
        <!-- Video 5 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1522075469751-3a3694c2d714?w=400&h=300&fit=crop&q=80" alt="100% gef√∂rdert - so geht's">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Tutorial</span>
            <span class="video-mosaic-title">100% gef√∂rdert - so geht's</span>
          </div>
        </div>
        <!-- Video 6 -->
        <div class="video-mosaic-item" data-video-url="https://www.youtube.com/embed/dQw4w9WgXcQ">
          <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=400&h=300&fit=crop&q=80" alt="Campus Tour K√∂ln">
          <div class="video-mosaic-play"><i class="ph-fill ph-play"></i></div>
          <div class="video-mosaic-info">
            <span class="video-mosaic-name">Einblick</span>
            <span class="video-mosaic-title">Campus Tour K√∂ln</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Video Modal for Full-Screen Playback -->
  <div class="video-modal-overlay" id="videoModalOverlay">
    <div class="video-modal">
      <button class="video-modal-close" id="videoModalClose"><i class="ph-bold ph-x"></i></button>
      <div class="video-modal-content">
        <iframe id="videoModalIframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <!-- Stories - Newspaper Style -->
  <section class="section stories-compact-section" id="stories">
    <div class="container">
      <div class="stories-compact-header">
        <h2>Insights</h2>
        <a href="#" class="stories-view-all">Alle Artikel <i class="ph-bold ph-arrow-right"></i></a>
      </div>

      <div class="newspaper-grid">
        <!-- Main Feature (Left) -->
        <article class="news-main-feature">
          <img src="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=1200&q=80" alt="Main Story">
          <div class="news-main-content">
            <span class="news-badge">Trend Report</span>
            <h3>Wie Generative AI die Kreativbranche revolutioniert</h3>
            <div class="news-meta" style="color: rgba(255,255,255,0.7); margin-top: 12px;">
              <span><i class="ph-fill ph-calendar"></i> Heute</span>
              <span><i class="ph-fill ph-clock"></i> 8 min Lesezeit</span>
            </div>
          </div>
        </article>

        <!-- Side List (Right) -->
        <div class="news-side-list">
          <a href="#" class="news-side-item">
            <img src="https://images.unsplash.com/photo-1531482615713-2afd69097998?w=200&q=80" alt="News 1"
              class="news-side-img">
            <div class="news-side-content">
              <h5>5 Skills, die jeder KI-Manager braucht</h5>
              <div class="news-meta"><span>Karriere</span></div>
            </div>
          </a>
          <a href="#" class="news-side-item">
            <img src="https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?w=200&q=80" alt="News 2"
              class="news-side-img">
            <div class="news-side-content">
              <h5>Prompt Engineering: Einsteiger Guide</h5>
              <div class="news-meta"><span>Tutorial</span></div>
            </div>
          </a>
          <a href="#" class="news-side-item">
            <img src="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=200&q=80" alt="News 3"
              class="news-side-img">
            <div class="news-side-content">
              <h5>Interview: Die Zukunft der Arbeit</h5>
              <div class="news-meta"><span>Interview</span></div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section faq-section" id="faq">
    <div class="container">
      <div class="section-header">
        <span class="section-badge"><i class="ph-fill ph-question"></i> H√§ufige Fragen</span>
        <h2 class="section-title">Alles was du wissen <span class="highlight">musst</span></h2>
        <p class="section-subtitle">Antworten auf die wichtigsten Fragen zu F√∂rderung, Programmen und mehr.</p>
      </div>

      <div class="faq-list">
        <div class="faq-item active">
          <button class="faq-question" onclick="toggleFaq(this)">
            <span>Was ist ein Bildungsgutschein und wie bekomme ich ihn?</span>
            <i class="ph-bold ph-caret-down"></i>
          </button>
          <div class="faq-answer">
            <p>Ein Bildungsgutschein ist eine F√∂rderung der Agentur f√ºr Arbeit, die 100% der Kosten f√ºr eine
              zertifizierte Weiterbildung √ºbernimmt. Du erh√§ltst ihn, wenn du arbeitssuchend gemeldet bist oder dein
              Arbeitsplatz gef√§hrdet ist. Sprich einfach mit deinem Arbeitsvermittler ‚Äì wir unterst√ºtzen dich gerne beim
              Antrag.</p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" onclick="toggleFaq(this)">
            <span>Welche F√∂rderungen gibt es f√ºr Berufst√§tige?</span>
            <i class="ph-bold ph-caret-down"></i>
          </button>
          <div class="faq-answer">
            <p>F√ºr Berufst√§tige gibt es das Qualifizierungschancengesetz (QCG), das bis zu 100% der Weiterbildungskosten
              √ºbernimmt. Auch Programme wie WeGebAU oder Bildungsurlaub k√∂nnen genutzt werden. Wir beraten dich
              individuell zu deinen M√∂glichkeiten.</p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" onclick="toggleFaq(this)">
            <span>Wie lange dauern die Bootcamps?</span>
            <i class="ph-bold ph-caret-down"></i>
          </button>
          <div class="faq-answer">
            <p>Unsere Vollzeit-Bootcamps dauern in der Regel 8-12 Wochen. Berufsbegleitende Programme laufen √ºber 4-6
              Monate mit flexiblen Abend- und Wochenendterminen. Nach Abschluss erh√§ltst du ein anerkanntes Zertifikat.
            </p>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" onclick="toggleFaq(this)">
            <span>Brauche ich Vorkenntnisse in Programmierung?</span>
            <i class="ph-bold ph-caret-down"></i>
          </button>
          <div class="faq-answer">
            <p>F√ºr die meisten unserer Programme brauchst du keine Programmierkenntnisse. Wir bieten sowohl Kurse f√ºr
              absolute Anf√§nger als auch f√ºr Fortgeschrittene an. In einem kostenlosen Beratungsgespr√§ch finden wir das
              passende Programm f√ºr dich.</p>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Newsletter Section - Premium Design -->
  <section class="section section-dark newsletter-premium" id="contact">
    <div class="container">
      <div class="newsletter-premium-grid">
        <div class="newsletter-premium-content">
          <span class="section-badge" style="background: rgba(99, 102, 241, 0.2);"><i
              class="ph-fill ph-envelope-simple"></i> Newsletter</span>
          <h2 class="newsletter-premium-title">Bleib an der <span class="highlight">KI-Spitze</span></h2>
          <p class="newsletter-premium-desc">Erhalte w√∂chentlich exklusive Insights, Event-Einladungen und die neuesten
            KI-Trends direkt in dein Postfach. √úber 5.000 Abonnenten vertrauen uns bereits.</p>

          <ul class="newsletter-benefits">
            <li><i class="ph-fill ph-check-circle"></i> W√∂chentliche KI-Insights & Tutorials</li>
            <li><i class="ph-fill ph-check-circle"></i> Exklusive Event-Einladungen</li>
            <li><i class="ph-fill ph-check-circle"></i> Kostenlose Ressourcen & Templates</li>
            <li><i class="ph-fill ph-check-circle"></i> Karriere-Tipps von Experten</li>
          </ul>
        </div>

        <div class="newsletter-premium-form-wrap">
          <form class="newsletter-premium-form">
            <div class="form-group">
              <label for="newsletter-name">Dein Name</label>
              <input type="text" id="newsletter-name" placeholder="Max Mustermann" required>
            </div>
            <div class="form-group">
              <label for="newsletter-email">E-Mail Adresse</label>
              <input type="email" id="newsletter-email" placeholder="max@beispiel.de" required>
            </div>
            <button type="submit" class="btn btn-primary btn-lg btn-full">
              <i class="ph-fill ph-paper-plane-tilt"></i> Jetzt abonnieren
            </button>
            <p class="newsletter-privacy-text">
              <i class="ph ph-shield-check"></i>
              Mit der Anmeldung akzeptierst du unsere <a href="#">Datenschutzerkl√§rung</a>. Abmeldung jederzeit m√∂glich.
            </p>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <img src="https://res.cloudinary.com/startplatz/image/upload/v1767628988/ai-hub/website/aihublogo02.png"
            alt="AI Hub" class="footer-logo">
          <p>STARTPLATZ AI Hub ‚Äì Dein Partner f√ºr KI-Weiterbildung in NRW. Gef√∂rderte Bootcamps, praxisnahe Kurse und
            eine starke Community.</p>
          <div class="footer-social">
            <a href="#"><i class="ph-fill ph-linkedin-logo"></i></a>
            <a href="#"><i class="ph-fill ph-instagram-logo"></i></a>
            <a href="#"><i class="ph-fill ph-youtube-logo"></i></a>
          </div>
        </div>
        <div class="footer-links">
          <h5>Programme</h5>
          <a href="#">AI Bootcamp</a>
          <a href="#">Prompt Engineering</a>
          <a href="#">Business AI</a>
          <a href="#">Inhouse Training</a>
        </div>
        <div class="footer-links">
          <h5>Unternehmen</h5>
          <a href="#">√úber Uns</a>
          <a href="#">Team</a>
          <a href="#">Karriere</a>
          <a href="#">Presse</a>
        </div>
        <div class="footer-links">
          <h5>Rechtliches</h5>
          <a href="#">Impressum</a>
          <a href="#">Datenschutz</a>
          <a href="#">AGB</a>
        </div>
        <div class="footer-contact">
          <h5>Kontakt</h5>
          <p><i class="ph-fill ph-map-pin"></i> Im Mediapark 5, 50670 K√∂ln</p>
          <p><i class="ph-fill ph-phone"></i> +49 221 123456</p>
          <p><i class="ph-fill ph-envelope"></i> hello@ai-hub.de</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>¬© 2026 STARTPLATZ AI Hub. Alle Rechte vorbehalten. Crafted with ‚ù§Ô∏è in K√∂ln & D√ºsseldorf.</p>
      </div>
    </div>
  </footer>

  <!-- Back to Top -->
  <button class="back-to-top" id="backToTop"><i class="ph-bold ph-caret-up"></i></button>

  <!-- Mobile Navigation Overlay -->
  <div class="mobile-nav-overlay">
    <div class="mobile-nav-content">
      <nav class="mobile-nav-links">
        <a href="#programs" class="mobile-nav-link">Weiterbildungen</a>
        <a href="#events" class="mobile-nav-link">Events</a>
        <a href="#team" class="mobile-nav-link">Netzwerk</a>
        <a href="#reviews" class="mobile-nav-link">Erfolge</a>
        <a href="#stories" class="mobile-nav-link">Insights</a>
      </nav>
      <div class="mobile-nav-cta">
        <a href="#contact" class="btn btn-primary btn-lg mobile-nav-btn">Beratung buchen</a>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- GSAP Draggable for Parallax Slider -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

  <!-- Three.js Import Map for Neural Network Background -->
  <script type="importmap">
  {
      "imports": {
          "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
  }
  </script>

  <!-- 3D Neural Network Background Engine - PERFORMANCE OPTIMIZED -->
  <script type="module">
    import * as THREE from 'three';
    import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
    import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
    import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';

    const canvas = document.getElementById('main-canvas');
    if (!canvas) {
      console.warn('Canvas not found');
    } else {
      // ==========================================
      // PERFORMANCE CONFIG - Adaptive Quality
      // ==========================================
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
      const isLowPower = navigator.hardwareConcurrency <= 4;
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      // Quality presets - same visuals, different internal resolution
      const quality = {
        pixelRatio: isMobile ? Math.min(window.devicePixelRatio, 1.0) : Math.min(window.devicePixelRatio, 1.5),
        bloomEnabled: !isMobile && !isLowPower,
        starCount: isMobile ? 100 : 200,
        shardCount: isMobile ? 25 : 55,
        targetFPS: isMobile ? 24 : 30, // Smooth enough, saves battery
        shaderComplexity: isMobile ? 'low' : 'high'
      };
      
      console.log('üéÆ Performance mode:', isMobile ? 'Mobile' : 'Desktop', quality);

      const renderer = new THREE.WebGLRenderer({ 
        canvas, 
        antialias: false, // Disabled for performance
        alpha: true, 
        powerPreference: 'high-performance',
        stencil: false, // Disable unused features
        depth: true
      });
      renderer.setPixelRatio(quality.pixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.toneMapping = THREE.ACESFilmicToneMapping;
      renderer.toneMappingExposure = 1.6;

      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0xeae8f0);

      const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 0, 30);

      // Composer setup - conditional bloom
      const composer = new EffectComposer(renderer);
      composer.addPass(new RenderPass(scene, camera));
      
      let bloomPass = null;
      if (quality.bloomEnabled) {
        bloomPass = new UnrealBloomPass(
          new THREE.Vector2(window.innerWidth / 4, window.innerHeight / 4), // Quarter resolution for bloom
          0.4, 0.3, 0.85
        );
        composer.addPass(bloomPass);
      }

      // Nebula - GALAXY with STRUCTURE and DEPTH (OPTIMIZED)
      // Uses adaptive shader complexity - same look, better performance
      const nebulaShaderLow = `
        uniform float uTime;
        uniform float uScrollProgress;
        varying vec2 vUv;
        
        float hash(vec2 p) { return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123); }
        float noise(vec2 p) {
            vec2 i = floor(p), f = fract(p);
            f = f * f * (3.0 - 2.0 * f);
            return mix(mix(hash(i), hash(i + vec2(1.0, 0.0)), f.x), mix(hash(i + vec2(0.0, 1.0)), hash(i + vec2(1.0, 1.0)), f.x), f.y);
        }
        // OPTIMIZED: 4 octaves instead of 8, higher amplitude
        float fbm(vec2 p) { 
            float v = 0.0, a = 0.6; 
            mat2 rot = mat2(0.8, 0.6, -0.6, 0.8);
            for (int i = 0; i < 4; i++) { 
                v += a * noise(p); 
                p = rot * p * 2.0; 
                a *= 0.55; 
            } 
            return v; 
        }
        
        void main() {
            vec2 uv = vUv;
            uv.y += uScrollProgress * 1.2;
            float t = uTime * 0.02;
            float scale = 2.5;
            
            vec2 q = vec2(fbm(uv * scale + t), fbm(uv * scale + vec2(5.2, 1.3)));
            float cloudMain = fbm(uv * scale + 3.0 * q);
            float f = pow(cloudMain, 0.85);
            
            vec3 color = vec3(0.96, 0.94, 0.97);
            color = mix(color, vec3(0.75, 0.72, 0.88), smoothstep(0.15, 0.5, cloudMain) * 0.6);
            color = mix(color, vec3(0.55, 0.52, 0.85), smoothstep(0.25, 0.65, f) * 0.55);
            color = mix(color, vec3(0.39, 0.40, 0.95), pow(f, 1.5) * 0.5);
            color = mix(color, vec3(0.50, 0.35, 0.88), pow(cloudMain, 1.8) * 0.4);
            
            float stars = pow(noise(uv * 300.0), 18.0) * 0.35;
            color += vec3(stars * 0.9, stars * 0.85, stars);
            
            vec2 vc = uv - 0.5;
            float vd = length(vc);
            color *= 0.9 + (1.0 - smoothstep(0.2, 0.8, vd)) * 0.1;
            
            gl_FragColor = vec4(color, 1.0);
        }
      `;
      
      const nebulaShaderHigh = `
        uniform float uTime;
        uniform float uScrollProgress;
        varying vec2 vUv;
        
        float hash(vec2 p) { return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123); }
        float noise(vec2 p) {
            vec2 i = floor(p), f = fract(p);
            f = f * f * (3.0 - 2.0 * f);
            return mix(mix(hash(i), hash(i + vec2(1.0, 0.0)), f.x), mix(hash(i + vec2(0.0, 1.0)), hash(i + vec2(1.0, 1.0)), f.x), f.y);
        }
        // 6 octaves - good balance of detail and performance
        float fbm(vec2 p) { 
            float v = 0.0, a = 0.5; 
            mat2 rot = mat2(0.8, 0.6, -0.6, 0.8);
            for (int i = 0; i < 6; i++) { 
                v += a * noise(p); 
                p = rot * p * 2.1 + vec2(0.1, 0.2); 
                a *= 0.5; 
            } 
            return v; 
        }
        float turbulence(vec2 p) {
            float t = 0.0, scale = 1.0;
            for (int i = 0; i < 3; i++) {
                t += abs(noise(p * scale) - 0.5) * (1.0 / scale);
                scale *= 2.0;
            }
            return t;
        }
        
        void main() {
            vec2 uv = vUv;
            uv.y += uScrollProgress * 1.2;
            uv.x += uScrollProgress * 0.2;
            float t = uTime * 0.02;
            float scale = 2.5 + uScrollProgress * 0.4;
            
            vec2 q = vec2(fbm(uv * scale + t), fbm(uv * scale + vec2(5.2, 1.3) - t * 0.7));
            vec2 r = vec2(fbm(uv * scale + 4.0 * q + vec2(1.7, 9.2) + t * 0.5), fbm(uv * scale + 4.0 * q + vec2(8.3, 2.8)));
            float cloudMain = fbm(uv * scale + 4.0 * r);
            
            vec2 uv2 = uv * 1.3 + vec2(0.4, -0.3);
            float cloudWispy = fbm(uv2 * scale * 0.8 - t * 0.15);
            float detail = turbulence(uv * scale * 3.0 + t * 0.3) * 0.3;
            float cloudLarge = fbm(uv * scale * 0.5 + t * 0.1);
            
            float f = cloudMain * 0.6 + cloudWispy * 0.25 + detail * 0.15;
            f = pow(f, 0.85);
            
            vec3 color = vec3(0.96, 0.94, 0.97);
            color = mix(color, vec3(0.75, 0.72, 0.88), smoothstep(0.15, 0.5, cloudMain) * 0.6);
            color = mix(color, vec3(0.55, 0.52, 0.85), smoothstep(0.25, 0.65, f) * 0.55);
            color = mix(color, vec3(0.39, 0.40, 0.95), pow(f, 1.5) * 0.5);
            color = mix(color, vec3(0.50, 0.35, 0.88), pow(cloudMain, 1.8) * 0.4);
            color = mix(color, vec3(0.65, 0.60, 0.92), smoothstep(0.3, 0.7, cloudWispy) * 0.35);
            
            float voidMask = smoothstep(0.2, 0.55, cloudLarge);
            color = mix(color, vec3(0.88, 0.86, 0.95), (1.0 - voidMask) * 0.25);
            color = mix(color, vec3(0.32, 0.30, 0.72), pow(f, 2.5) * 0.3);
            color = mix(color, vec3(0.5, 0.9, 0.82), pow(cloudWispy, 3.0) * 0.12);
            color = mix(color, vec3(0.98, 0.78, 0.65), pow(f, 4.0) * 0.08);
            
            float stars = pow(noise(uv * 400.0), 20.0) * 0.4;
            stars += pow(noise(uv * 250.0 + 50.0), 18.0) * 0.25;
            color += vec3(stars * 0.9, stars * 0.85, stars);
            
            vec2 vc = uv - 0.5;
            float vd = length(vc * vec2(1.1, 0.9));
            float vig = 1.0 - smoothstep(0.2, 0.9, vd);
            color *= 0.88 + vig * 0.12;
            color = mix(color, vec3(0.92, 0.90, 0.96), smoothstep(0.4, 0.85, vd) * 0.15);
            
            gl_FragColor = vec4(color, 1.0);
        }
      `;
      
      const nebulaMaterial = new THREE.ShaderMaterial({
        uniforms: {
          uTime: { value: 0 },
          uScrollProgress: { value: 0 }
        },
        vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
        fragmentShader: quality.shaderComplexity === 'low' ? nebulaShaderLow : nebulaShaderHigh,
        depthWrite: false
      });
      // Larger plane to prevent visible edges at all scroll positions
      const nebula = new THREE.Mesh(new THREE.PlaneGeometry(300, 220), nebulaMaterial);
      nebula.position.z = -50;
      scene.add(nebula);

      // Starfield - Purple-themed particles matching brand (ADAPTIVE COUNT)
      const starLayers = [];
      const starColors = [
        [0.42, 0.44, 0.95],   // Brand Indigo (primary #6366f1)
        [0.58, 0.52, 0.92],   // Lavender
        [0.45, 0.85, 0.78],   // Mint accent
        [0.35, 0.32, 0.82],   // Deep Purple
        [0.68, 0.58, 0.95],   // Light Violet
        [0.48, 0.46, 0.88]    // Medium Purple
      ];
      [0.2, 0.4, 0.6].forEach((speed, layer) => {
        const count = quality.starCount; // Adaptive based on device
        const positions = new Float32Array(count * 3);
        const sizes = new Float32Array(count);
        const colors = new Float32Array(count * 3);
        for (let i = 0; i < count; i++) {
          positions[i * 3] = (Math.random() - 0.5) * 100;
          positions[i * 3 + 1] = (Math.random() - 0.5) * 70;
          positions[i * 3 + 2] = (Math.random() - 0.5) * 50 - layer * 15;
          sizes[i] = 0.06 + Math.random() * 0.12; // Larger stars
          const c = starColors[Math.floor(Math.random() * starColors.length)];
          colors[i * 3] = c[0];
          colors[i * 3 + 1] = c[1];
          colors[i * 3 + 2] = c[2];
        }
        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
        geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

        const material = new THREE.ShaderMaterial({
          uniforms: { uTime: { value: 0 }, uPixelRatio: { value: renderer.getPixelRatio() } },
          vertexShader: `attribute float size; attribute vec3 color; varying vec3 vColor; uniform float uTime, uPixelRatio; void main() { vColor = color; vec4 mvPos = modelViewMatrix * vec4(position, 1.0); float twinkle = sin(uTime * 2.5 + position.x * 8.0) * 0.5 + 0.5; gl_PointSize = size * uPixelRatio * 100.0 * (0.7 + twinkle * 0.3) / -mvPos.z; gl_Position = projectionMatrix * mvPos; }`,
          fragmentShader: `varying vec3 vColor; void main() { float d = length(gl_PointCoord - 0.5); float alpha = smoothstep(0.5, 0.0, d) * 0.85; float glow = exp(-d * 3.0) * 0.5; gl_FragColor = vec4(vColor + glow, alpha); }`,
          transparent: true, depthWrite: false, blending: THREE.NormalBlending
        });
        const points = new THREE.Points(geometry, material);
        points.userData = { speed, originalPositions: positions.slice() };
        scene.add(points);
        starLayers.push(points);
      });

      // Crystal Shards - Floating geometric elements
      const shards = [];
      const shardShape = new THREE.Shape();
      for (let i = 0; i < 6; i++) {
        const angle = (i / 6) * Math.PI * 2 - Math.PI / 6;
        i === 0 ? shardShape.moveTo(Math.cos(angle), Math.sin(angle)) : shardShape.lineTo(Math.cos(angle), Math.sin(angle));
      }
      const shardGeo = new THREE.ExtrudeGeometry(shardShape, { depth: 0.12, bevelEnabled: true, bevelThickness: 0.02, bevelSize: 0.02, bevelSegments: 2 });
      shardGeo.center();

      // Background shards (adaptive count based on device)
      for (let i = 0; i < quality.shardCount; i++) {
        const colors = [0x6366f1, 0x8b5cf6, 0x7c3aed, 0xa78bfa, 0x818cf8];
        const colorIndex = Math.floor(Math.random() * colors.length);
        const mat = new THREE.MeshPhysicalMaterial({
          color: colors[colorIndex],
          metalness: 0.15, roughness: 0.08, transmission: 0.7, transparent: true, opacity: 0.45,
          ior: 1.6, thickness: 0.5, emissive: colors[colorIndex], emissiveIntensity: 0.12
        });
        const mesh = new THREE.Mesh(shardGeo, mat);
        mesh.position.set((Math.random() - 0.5) * 80, (Math.random() - 0.5) * 50, (Math.random() - 0.5) * 60 - 8);
        mesh.scale.setScalar(0.08 + Math.random() * 0.2); // Larger shards
        mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
        mesh.userData = { originalPosition: mesh.position.clone(), rotSpeed: (Math.random() - 0.5) * 0.25, floatSpeed: 0.2 + Math.random() * 0.35, floatOffset: Math.random() * Math.PI * 2, parallax: 0.1 + Math.random() * 0.4, isHero: false };
        scene.add(mesh);
        shards.push(mesh);
      }

      // HERO SHARDS - Three large shards for the morph animation with PERSONA IMAGES
      const heroShardColors = [0x10b981, 0x3b82f6, 0xf97316]; // Mint, Navy, Orange
      const heroShardLabels = ['Arbeitssuchend', 'Berufst√§tig', 'Unternehmen'];
      const heroShardIcons = ['ph-user-circle-gear', 'ph-briefcase', 'ph-buildings'];
      const heroShards = [];
      const heroShardGeo = new THREE.ExtrudeGeometry(shardShape, { depth: 0.25, bevelEnabled: true, bevelThickness: 0.05, bevelSize: 0.05, bevelSegments: 3 });
      heroShardGeo.center();

      // Simple solid color textures for shards - no complex SVGs
      // Using Canvas to generate simple, reliable textures
      function createShardTexture(bgColor, iconColor, iconType) {
        const canvas = document.createElement('canvas');
        canvas.width = 256;
        canvas.height = 256;
        const ctx = canvas.getContext('2d');
        
        // Background gradient
        const gradient = ctx.createLinearGradient(0, 0, 256, 256);
        gradient.addColorStop(0, bgColor);
        gradient.addColorStop(1, shadeColor(bgColor, -20));
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, 256, 256);
        
        // Draw icon
        ctx.fillStyle = iconColor;
        ctx.strokeStyle = iconColor;
        ctx.lineWidth = 6;
        ctx.lineCap = 'round';
        
        if (iconType === 'rocket') {
          // Simple rocket shape
          ctx.beginPath();
          ctx.moveTo(128, 50);
          ctx.lineTo(100, 150);
          ctx.lineTo(128, 130);
          ctx.lineTo(156, 150);
          ctx.closePath();
          ctx.fill();
          // Flames
          ctx.fillStyle = 'rgba(255,255,255,0.5)';
          ctx.beginPath();
          ctx.moveTo(110, 150);
          ctx.lineTo(128, 200);
          ctx.lineTo(146, 150);
          ctx.closePath();
          ctx.fill();
        } else if (iconType === 'chart') {
          // Bar chart
          ctx.fillRect(50, 160, 40, 60);
          ctx.fillRect(108, 110, 40, 110);
          ctx.fillRect(166, 70, 40, 150);
          // Trend line
          ctx.beginPath();
          ctx.moveTo(70, 140);
          ctx.lineTo(128, 90);
          ctx.lineTo(186, 50);
          ctx.stroke();
          // Arrow tip
          ctx.beginPath();
          ctx.arc(186, 50, 12, 0, Math.PI * 2);
          ctx.fill();
        } else if (iconType === 'building') {
          // Building shape
          ctx.fillRect(78, 50, 100, 170);
          // Windows
          ctx.fillStyle = bgColor;
          for (let row = 0; row < 4; row++) {
            for (let col = 0; col < 2; col++) {
              ctx.fillRect(95 + col * 45, 70 + row * 35, 25, 20);
            }
          }
          // Door
          ctx.fillRect(113, 180, 30, 40);
        }
        
        const texture = new THREE.CanvasTexture(canvas);
        texture.colorSpace = THREE.SRGBColorSpace;
        return texture;
      }
      
      function shadeColor(color, percent) {
        const num = parseInt(color.replace('#', ''), 16);
        const amt = Math.round(2.55 * percent);
        const R = Math.min(255, Math.max(0, (num >> 16) + amt));
        const G = Math.min(255, Math.max(0, (num >> 8 & 0x00FF) + amt));
        const B = Math.min(255, Math.max(0, (num & 0x0000FF) + amt));
        return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);
      }
      
      // Create textures for each shard
      const shardTextures = [
        createShardTexture('#10b981', 'rgba(255,255,255,0.9)', 'rocket'),   // Green - Arbeitssuchend
        createShardTexture('#6366f1', 'rgba(255,255,255,0.9)', 'chart'),    // Blue - Berufst√§tig
        createShardTexture('#f97316', 'rgba(255,255,255,0.9)', 'building')  // Orange - Unternehmen
      ];

      // SIDE ENTRY - Shards fly in from left and right sides with rotation
      const heroStartPositions = [
        new THREE.Vector3(-70, 8, -35),   // Mint - starts FAR LEFT
        new THREE.Vector3(0, -45, -55),   // Navy - starts BOTTOM
        new THREE.Vector3(70, 8, -35),    // Orange - starts FAR RIGHT
      ];
      const heroEndPositions = [
        new THREE.Vector3(-10, 0, 5),   // Mint - ends left - MORE SPACING
        new THREE.Vector3(0, 0, 5),     // Navy - ends center
        new THREE.Vector3(10, 0, 5),    // Orange - ends right - MORE SPACING
      ];

      heroStartPositions.forEach((startPos, i) => {
        // Use the pre-generated canvas texture
        const personaTexture = shardTextures[i];
        
        // Create hexagon with PERSONA IMAGE as main texture - mirror effect
        const mat = new THREE.MeshPhysicalMaterial({
          color: 0xffffff,  // White base shows texture clearly
          map: personaTexture,  // Persona image AS the hexagon texture
          metalness: 0.3,   // Reflective like a mirror
          roughness: 0.1,   // Smooth surface
          transmission: 0.0, // NOT transparent - show the image!
          transparent: false,
          clearcoat: 0.8,   // Glass-like shine on top
          clearcoatRoughness: 0.1,
          emissive: heroShardColors[i], 
          emissiveIntensity: 0.08,
          side: THREE.DoubleSide
        });
        const mesh = new THREE.Mesh(heroShardGeo, mat);
        mesh.position.copy(startPos);
        mesh.scale.setScalar(1.8);
        mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
        
        // Add a colored glass frame around the hexagon
        const frameMat = new THREE.MeshPhysicalMaterial({
          color: heroShardColors[i],
          metalness: 0.2, roughness: 0.15, 
          transmission: 0.4, transparent: true, opacity: 0.7,
          emissive: heroShardColors[i], emissiveIntensity: 0.25,
          side: THREE.DoubleSide
        });
        // Create slightly larger hexagon as frame
        const frameGeo = new THREE.ExtrudeGeometry(shardShape, { depth: 0.3, bevelEnabled: true, bevelThickness: 0.08, bevelSize: 0.08, bevelSegments: 3 });
        frameGeo.center();
        const frameMesh = new THREE.Mesh(frameGeo, frameMat);
        frameMesh.scale.setScalar(1.12); // Slightly larger than main
        frameMesh.position.z = -0.05; // Behind main hexagon
        mesh.add(frameMesh);
        
        mesh.userData = {
          startPosition: startPos.clone(),
          endPosition: heroEndPositions[i].clone(),
          startRotation: new THREE.Euler(Math.random() * Math.PI * 2, Math.random() * Math.PI * 2, Math.random() * Math.PI * 2),
          endRotation: new THREE.Euler(0, 0, 0),
          rotSpeed: (Math.random() - 0.5) * 0.3,
          floatSpeed: 0.15 + Math.random() * 0.1,
          floatOffset: Math.random() * Math.PI * 2,
          index: i,
          isHero: true,
          baseScale: 1.8, // Initial scale for reset
          label: heroShardLabels[i],
          icon: heroShardIcons[i],
          frameMesh: frameMesh
        };
        scene.add(mesh);
        heroShards.push(mesh);
        shards.push(mesh);
      });

      // Create floating HTML labels for hero shards
      const shardLabelsContainer = document.createElement('div');
      shardLabelsContainer.className = 'shard-labels-container';
      shardLabelsContainer.innerHTML = heroShardLabels.map((label, i) => `
        <button class="shard-label" data-index="${i}" style="--shard-color: ${['#10b981', '#3b82f6', '#f97316'][i]}">
          <i class="ph-fill ${heroShardIcons[i]}"></i>
          <span>${label}</span>
        </button>
      `).join('');
      document.body.appendChild(shardLabelsContainer);
      const shardLabelEls = shardLabelsContainer.querySelectorAll('.shard-label');

      // Label click handlers
      shardLabelEls.forEach((el, i) => {
        el.addEventListener('click', () => {
          if (typeof openMorphModal === 'function') {
            openMorphModal(i);
          }
        });
      });

      // Lights - Warm with purple accents
      scene.add(new THREE.AmbientLight(0xffffff, 0.9));
      const keyLight = new THREE.DirectionalLight(0xffffff, 1.0);
      keyLight.position.set(5, 10, 10);
      scene.add(keyLight);
      const purpleLight = new THREE.PointLight(0x8b5cf6, 0.8, 70);
      purpleLight.position.set(15, 6, 5);
      scene.add(purpleLight);
      const warmLight = new THREE.PointLight(0xfaf8f5, 0.6, 60);
      warmLight.position.set(-15, -5, 8);
      scene.add(warmLight);

      // ==========================================
      // RAYCASTER FOR CLICKABLE 3D TILES
      // ==========================================
      const raycaster = new THREE.Raycaster();
      const mouse = new THREE.Vector2();
      let hoveredShard = null;

      // Mouse move for hover detection
      canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
        mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1;
      });

      // Click handler for 3D tiles
      canvas.addEventListener('click', (e) => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1;
        mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1;

        raycaster.setFromCamera(mouse, camera);
        const intersects = raycaster.intersectObjects(heroShards);

        if (intersects.length > 0 && morphProgress > 0.15 && morphProgress < 0.98) {
          const clickedShard = intersects[0].object;
          const index = clickedShard.userData.index;

          // Open the modal via the JS function
          if (typeof openMorphModal === 'function') {
            openMorphModal(index);
          } else {
            // Fallback: trigger modal manually
            const overlay = document.getElementById('morphModalOverlay');
            if (overlay) {
              overlay.classList.add('active');
              document.body.style.overflow = 'hidden';
            }
          }
        }
      });

      // Cursor style based on hover - EXPANDED clickable range
      function updateCursor() {
        raycaster.setFromCamera(mouse, camera);
        const intersects = raycaster.intersectObjects(heroShards);

        if (intersects.length > 0 && morphProgress > 0.15 && morphProgress < 0.98) {
          canvas.style.cursor = 'pointer';
          hoveredShard = intersects[0].object;
        } else {
          canvas.style.cursor = 'default';
          hoveredShard = null;
        }
      }

      // Animation
      let scrollProgress = 0, targetScrollProgress = 0;
      let morphProgress = 0, targetMorphProgress = 0;
      let currentSection = 0, targetSection = 0;

      // DOM elements for morph section
      const morphSection = document.getElementById('morph-stage');
      const morphTargets = document.querySelectorAll('.morph-target');
      const morphContent = document.querySelector('.morph-content');
      const audienceSection = document.querySelector('.audience-reveal');
      const morphScrollHint = document.querySelector('.morph-scroll-hint');

      // All sections for snappy camera
      const allSections = document.querySelectorAll('section[id]');

      // Easing functions
      const easeOutCubic = t => 1 - Math.pow(1 - t, 3);
      const easeInOutQuart = t => t < 0.5 ? 8 * t * t * t * t : 1 - Math.pow(-2 * t + 2, 4) / 2;
      const easeOutBack = t => 1 + 2.70158 * Math.pow(t - 1, 3) + 1.70158 * Math.pow(t - 1, 2);

      // Smooth camera settings - NO SNAPPING
      const cameraStart = { x: 0, y: 0, z: 38 };
      const cameraEnd = { x: 0, y: 0, z: 8 };  // Zoom in as you scroll

      // Get team section for early shard disappearance
      const teamSection = document.getElementById('team');

      // Throttled scroll handler for better performance
      let scrollTicking = false;
      window.addEventListener('scroll', () => {
        if (!scrollTicking) {
          scrollTicking = true;
          requestAnimationFrame(() => {
            targetScrollProgress = Math.max(0, Math.min(1, window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)));

            // Calculate morph progress
            if (morphSection) {
              const rect = morphSection.getBoundingClientRect();
              const sectionHeight = morphSection.offsetHeight;
              const viewportHeight = window.innerHeight;
              const scrollIntoSection = -rect.top + viewportHeight * 0.5;
              const morphDistance = sectionHeight * 0.75;
              targetMorphProgress = Math.max(0, Math.min(1, scrollIntoSection / morphDistance));
              
              // FORCE RESET when scrolled back to top of section
              if (rect.top > viewportHeight * 0.8) {
                targetMorphProgress = 0;
                morphProgress = 0; // Immediate reset
              }
            }

            // Calculate shard EXIT animation
            if (teamSection) {
              const teamRect = teamSection.getBoundingClientRect();
              const flyStartDistance = window.innerHeight * 1.0;
              
              if (teamRect.top < flyStartDistance) {
                const exitProgress = 1 - Math.max(0, Math.min(1, teamRect.top / flyStartDistance));
                window.shardExitProgress = exitProgress;
                shardLabelsContainer.style.opacity = Math.max(0, 1 - exitProgress * 2);
                shardLabelsContainer.style.pointerEvents = exitProgress > 0.2 ? 'none' : 'auto';
              } else {
                window.shardExitProgress = 0;
                shardLabelsContainer.style.opacity = '1';
                shardLabelsContainer.style.pointerEvents = 'auto';
              }
            }
            
            scrollTicking = false;
          });
        }
      }, { passive: true });

      const clock = new THREE.Clock();
      const baseFov = 65;
      let isPageVisible = true;
      let isInViewport = true;
      let animationId = null;
      let lastFrameTime = 0;
      const targetFPS = quality.targetFPS;
      const frameInterval = 1000 / targetFPS;
      
      // Adaptive FPS - lower when scrolling fast
      let currentFPS = targetFPS;
      let isScrolling = false;
      let scrollTimeout = null;

      // Pause animation when tab is not visible (HUGE performance boost)
      document.addEventListener('visibilitychange', () => {
        isPageVisible = !document.hidden;
        if (isPageVisible && !animationId) {
          clock.start();
          lastFrameTime = performance.now();
          animate();
        }
      });
      
      // Pause when canvas is not in viewport
      const canvasObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          isInViewport = entry.isIntersecting;
          if (isInViewport && isPageVisible && !animationId) {
            clock.start();
            lastFrameTime = performance.now();
            animate();
          }
        });
      }, { threshold: 0.01 });
      canvasObserver.observe(canvas);
      
      // Reduce FPS during fast scroll
      window.addEventListener('scroll', () => {
        isScrolling = true;
        currentFPS = Math.max(15, targetFPS - 10); // Drop FPS while scrolling
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          isScrolling = false;
          currentFPS = targetFPS;
        }, 150);
      }, { passive: true });

      function animate() {
        // Stop animation if not visible or not in viewport
        if (!isPageVisible || !isInViewport) {
          animationId = null;
          return;
        }
        animationId = requestAnimationFrame(animate);
        
        // Adaptive FPS limiter
        const now = performance.now();
        const elapsed = now - lastFrameTime;
        const currentFrameInterval = 1000 / currentFPS;
        if (elapsed < currentFrameInterval) return;
        lastFrameTime = now - (elapsed % currentFrameInterval);
        
        const dt = Math.min(clock.getDelta(), 0.1); // Cap delta to prevent jumps
        const t = clock.getElapsedTime();
        
        scrollProgress += (targetScrollProgress - scrollProgress) * 0.08;
        
        // FASTER reset when scrolling back UP, slower when scrolling down
        const morphLerpSpeed = targetMorphProgress < morphProgress ? 0.15 : 0.05;
        morphProgress += (targetMorphProgress - morphProgress) * morphLerpSpeed;

        nebulaMaterial.uniforms.uTime.value = t;
        nebulaMaterial.uniforms.uScrollProgress.value = scrollProgress;

        // Dynamic star movement with depth
        starLayers.forEach(layer => {
          layer.material.uniforms.uTime.value = t;
          const pos = layer.geometry.attributes.position.array;
          const orig = layer.userData.originalPositions;
          for (let j = 0; j < pos.length; j += 3) {
            pos[j + 2] = orig[j + 2] + scrollProgress * layer.userData.speed * 50;
            pos[j] = orig[j] + Math.sin(t * 0.3 + j * 0.01) * 0.15;
          }
          layer.geometry.attributes.position.needsUpdate = true;
        });

        // Background shard animation
        shards.forEach(shard => {
          const d = shard.userData;
          if (d.isHero) return; // Skip hero shards here

          shard.position.y = d.originalPosition.y + Math.sin(t * d.floatSpeed + d.floatOffset) * 0.5;
          shard.position.x = d.originalPosition.x + Math.cos(t * d.floatSpeed * 0.7 + d.floatOffset) * 0.3;
          shard.rotation.x += d.rotSpeed * dt * 0.4;
          shard.rotation.y += d.rotSpeed * dt * 0.25;
          shard.position.z = d.originalPosition.z + scrollProgress * d.parallax * 40;
          const zScale = 1 + scrollProgress * d.parallax * 0.3;
          shard.scale.setScalar((0.06 + d.parallax * 0.12) * zScale);
        });

        // HERO SHARD ANIMATION - Fly in from SIDES with ROTATION
        const easedMorph = easeOutCubic(morphProgress);
        const rotationEase = easeInOutQuart(morphProgress);

        // Temporary vector for screen projection
        const tempVec = new THREE.Vector3();

        // Animation is BIDIRECTIONAL - follows morphProgress both ways
        heroShards.forEach((shard, i) => {
          const d = shard.userData;
          
          // Always ensure shard is visible when in morph zone
          shard.visible = true;
          
          // Interpolate position from start to end - works both directions!
          const curveOffset = Math.sin(easedMorph * Math.PI) * 3; // Arc motion
          shard.position.lerpVectors(d.startPosition, d.endPosition, easedMorph);
          
          // Add curve to the path - shards curve inward
          if (i === 0) shard.position.x += curveOffset * 0.5;
          if (i === 2) shard.position.x -= curveOffset * 0.5;
          shard.position.y += curveOffset * 0.3;

          // Add floating animation - more when not settled
          const floatAmount = (1 - easedMorph) * 1.5;
          shard.position.y += Math.sin(t * d.floatSpeed + d.floatOffset) * floatAmount;

          // ROTATION - based on morphProgress, so it also reverses!
          const baseRotation = easedMorph * Math.PI * 2; // Rotation tied to progress
          
          if (easedMorph < 0.85) {
            // Spinning rotation during flight - scales with morphProgress
            shard.rotation.x = baseRotation * (i === 1 ? 1.5 : 1) * (1 - easedMorph);
            shard.rotation.y = baseRotation * (i === 0 ? -1 : 1) * (1 - easedMorph);
            shard.rotation.z = Math.sin(t * 2 + i) * 0.3 * (1 - easedMorph);
          } else {
            // Smooth settle to flat rotation
            shard.rotation.x *= 0.88;
            shard.rotation.y *= 0.88;
            shard.rotation.z *= 0.88;
          }
          
          // When scrolled back to start (morphProgress near 0), ensure starting state
          if (easedMorph < 0.05) {
            const resetBlend = easedMorph / 0.05; // 0 at start, 1 at 0.05
            shard.rotation.x *= resetBlend;
            shard.rotation.y *= resetBlend;
            shard.rotation.z *= resetBlend;
          }

          // Scale: start smaller, grow LARGER as they approach for better visibility
          const scaleStart = 1.5;
          const scaleEnd = 3.2; // BIGGER shards
          const hoverBoost = (hoveredShard === shard) ? 0.35 : 0;
          
          // ==========================================
          // EXIT ANIMATION - Shards FLY PAST the viewer
          // ==========================================
          const exitProgress = window.shardExitProgress || 0;
          const easedExit = easeInOutQuart(exitProgress);
          
          if (exitProgress > 0.01) {
            // FLY OUT: Move shards outward and TOWARD camera (positive Z = closer)
            const flyOutX = (i === 0 ? -1 : i === 2 ? 1 : 0) * easedExit * 60;
            const flyOutY = (i === 1 ? -1 : 1) * easedExit * 30;
            const flyOutZ = easedExit * 80;
            
            shard.position.x += flyOutX;
            shard.position.y += flyOutY;
            shard.position.z += flyOutZ;
            
            shard.rotation.x += easedExit * Math.PI * (i === 1 ? 1.5 : 1);
            shard.rotation.y += easedExit * Math.PI * (i === 0 ? -2 : 2);
            shard.rotation.z += easedExit * Math.PI * 0.5;
            
            const exitScale = 1 + easedExit * 2.5;
            shard.scale.setScalar((scaleStart + (scaleEnd - scaleStart) * easedMorph + hoverBoost) * exitScale);
            
            shard.material.opacity = Math.max(0, 1 - easedExit * 1.5);
            shard.visible = shard.material.opacity > 0.01;
            
            if (shard.userData.frameMesh) {
              shard.userData.frameMesh.material.opacity = Math.max(0, 0.7 - easedExit * 1.2);
            }
          } else {
            // ALWAYS ensure shards are visible and properly positioned when not exiting
            shard.visible = true;
            shard.material.opacity = 1;
            shard.material.transparent = true;
            
            // Normal scale based on morph progress
            shard.scale.setScalar(scaleStart + (scaleEnd - scaleStart) * easedMorph + hoverBoost);
            
            // Material properties based on morph progress
            shard.material.emissiveIntensity = 0.05 + easedMorph * 0.1 + ((hoveredShard === shard) ? 0.15 : 0);
            shard.material.metalness = 0.2 + easedMorph * 0.3;
            shard.material.clearcoat = 0.5 + easedMorph * 0.5;
            
            // Frame glow
            if (shard.userData.frameMesh) {
              shard.userData.frameMesh.material.emissiveIntensity = 0.15 + easedMorph * 0.35 + ((hoveredShard === shard) ? 0.25 : 0);
              shard.userData.frameMesh.material.opacity = 0.7;
              shard.userData.frameMesh.visible = true;
            }
          }

          // Update HTML label position to follow 3D shard - VISIBLE LONGER
          if (shardLabelEls[i] && morphProgress > 0.2 && morphProgress < 0.98) {
            tempVec.copy(shard.position);
            tempVec.y += 3.5; // Position label above shard
            tempVec.project(camera);

            const x = (tempVec.x * 0.5 + 0.5) * window.innerWidth;
            const y = (-tempVec.y * 0.5 + 0.5) * window.innerHeight;

            shardLabelEls[i].style.left = `${x}px`;
            shardLabelEls[i].style.top = `${y}px`;
            // Fade in earlier, stay visible much longer
            const labelOpacity = Math.min(1, (morphProgress - 0.2) * 4) * (1 - Math.max(0, (morphProgress - 0.92) * 12));
            shardLabelEls[i].style.opacity = labelOpacity.toString();
            shardLabelEls[i].style.transform = `translate(-50%, -50%) scale(${0.85 + easedMorph * 0.15})`;
          } else if (shardLabelEls[i]) {
            shardLabelEls[i].style.opacity = '0';
          }
        });

        // Update HTML morph targets visibility
        // Show between 30-80% morph progress, then hide
        if (morphTargets.length > 0) {
          morphTargets.forEach((target, i) => {
            const showThreshold = 0.25 + i * 0.08;
            const hideThreshold = 0.85;

            if (morphProgress > showThreshold && morphProgress < hideThreshold) {
              target.classList.add('arrived');
            } else {
              target.classList.remove('arrived');
            }
          });
        }

        // Show/hide morph content
        if (morphContent) {
          if (morphProgress > 0.1 && morphProgress < 0.9) {
            morphContent.classList.add('visible');
          } else {
            morphContent.classList.remove('visible');
          }
        }

        // Hide scroll hint after starting scroll
        if (morphScrollHint) {
          morphScrollHint.style.opacity = Math.max(0, 1 - morphProgress * 3);
        }

        // SMOOTH CAMERA ZOOM - scroll-based, no snapping
        // Smooth zoom from start to end position
        const easedScroll = easeOutCubic(scrollProgress);

        const targetX = cameraStart.x + (cameraEnd.x - cameraStart.x) * easedScroll * 0.5;
        const targetY = cameraStart.y + (cameraEnd.y - cameraStart.y) * easedScroll * 0.3;
        const targetZ = cameraStart.z + (cameraEnd.z - cameraStart.z) * easedScroll;

        // Very gentle floating - subtle, not distracting
        camera.position.x = targetX + Math.sin(t * 0.08) * 0.15;
        camera.position.y = targetY + Math.cos(t * 0.06) * 0.1;
        camera.position.z = targetZ;
        camera.rotation.z = 0; // No tilt

        // Stable FOV
        camera.fov = baseFov;
        camera.updateProjectionMatrix();

        // Update cursor for 3D tile hover
        updateCursor();

        // Use composer with bloom on desktop, direct render on mobile
        if (quality.bloomEnabled) {
          composer.render();
        } else {
          renderer.render(scene, camera);
        }
      }

      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
        if (quality.bloomEnabled) {
          composer.setSize(window.innerWidth, window.innerHeight);
        }
      });

      animate();
    }
  </script>

  <!-- Design System JS -->
  <script src="js/script.js"></script>
  <!-- Page Specific JS -->
  <script src="js/landing.js"></script>

  <!-- Morph Section - DISABLED: Using inline Three.js implementation instead -->
  <!-- The morph-section.js was creating duplicate 3D figures (capsules) over the hexagon shards -->
</body>

</html>